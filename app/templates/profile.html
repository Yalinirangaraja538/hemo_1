<!-- templates/profile.html -->
{% extends 'base.html' %}

{% block content %}
<h2 style="margin-bottom: 20px;">My Profile</h2>

<form method="POST" style="max-width: 700px; margin: auto; background: #f9f9f9; padding: 25px; border-radius: 10px; box-shadow: 0 10px 25px rgba(0,0,0,0.08);">
    <label>Name:</label>
    <input type="text" name="name" value="{{ patient.name if patient else '' }}" placeholder="Full Name" required><br><br>

    <label>Age:</label>
    <input type="number" name="age" value="{{ patient.age if patient else '' }}" placeholder="Your age" required min="0" max="120"><br><br>

    <label>Date of Birth:</label>
    <input type="date" name="dob" value="{{ patient.date_of_birth if patient and patient.date_of_birth else '' }}"><br><br>

    <label>Medical History:</label>
    <textarea name="medical_history" rows="4" placeholder="E.g., Diabetes, hypertension">{{ patient.medical_history if patient else '' }}</textarea><br><br>

    <label>Address:</label>
    <input type="text" name="address" value="{{ patient.address if patient else '' }}" placeholder="Street, Area"><br><br>

    <label>Country:</label>
    <select name="country" required>
        <option value="">Select Country</option>
        {% set countries = ['India', 'USA', 'UK', 'Canada', 'Australia', 'Sri Lanka', 'Germany'] %}
        {% for c in countries %}
            <option value="{{ c }}" {% if patient and patient.country == c %}selected{% endif %}>{{ c }}</option>
        {% endfor %}
    </select><br><br>

    <label>City:</label>
    <input type="text" name="city" value="{{ patient.city if patient else '' }}" placeholder="City"><br><br>

    <label>Phone Number:</label>
    <input type="tel" name="phone_number" value="{{ patient.phone_number if patient else '' }}" placeholder="+91xxxxxxxxxx" pattern="^\+?\d{10,15}$"><br><br>

    <label>Email:</label>
    <input type="email" name="email" value="{{ user.email if user else '' }}" placeholder="your@email.com" required><br><br>

    <button type="submit" style="
        background: linear-gradient(to right, #ff416c, #ff4b2b);
        color: white;
        padding: 12px 24px;
        border: none;
        border-radius: 6px;
        font-size: 16px;
        cursor: pointer;
    ">
        Update Profile
    </button>
</form>

<style>
    form input, form select, form textarea {
        width: 100%;
        padding: 10px;
        font-size: 15px;
        margin-top: 5px;
        margin-bottom: 15px;
        border: 1px solid #ccc;
        border-radius: 6px;
        box-sizing: border-box;
    }

    @media (max-width: 600px) {
        form {
            padding: 15px;
        }

        h2 {
            font-size: 20px;
        }
    }
</style>
{% endblock %}
